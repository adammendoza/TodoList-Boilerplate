# Kitura Todo List Boilerplate

[![Build Status](https://travis-ci.org/IBM-Swift/TodoList-Boilerplate.svg?branch=master)](https://travis-ci.org/IBM-Swift/TodoList-Boilerplate)
![](https://img.shields.io/badge/Swift-3.0%20RELEASE-orange.svg?style=flat)
![](https://img.shields.io/badge/platform-Linux,%20macOS-blue.svg?style=flat)


An example using the Kitura web framework and HTTP Server to develop a backend for a todo list organizer

This is a starter repository for quickly adding a new TodoList implementation for a specific database. It was created to encourage the Swift community for integrating with more databases. 

## Current Implementations:

  The following implementations were created from Todolist-Boilerplate:

 - [TodoList CouchDB/Cloudant](https://github.com/IBM-Swift/todolist-couchdb/)
 - [TodoList Redis](https://github.com/IBM-Swift/todolist-redis)
 - [TodoList MongoDB](https://github.com/IBM-Swift/todolist-mongodb)
 - [TodoList PostgreSQL](https://github.com/IBM-Swift/todolist-postgresql)
 - [TodoList MySQL](https://github.com/IBM-Swift/todolist-mysql)
 - [TodoList DB2/DashDB](https://github.com/IBM-Swift/todolist-db2)
 - [TodoList Cassandra](https://github.com/IBM-Swift/todolist-cassandra)
 - [TodoList SQLite](https://github.com/IBM-Swift/TodoList-SQLite)

## Related Projects:

 - [TodoList Swagger API](https://github.com/IBM-Swift/todolist-swagger) 
 - [TodoList Tests](https://github.com/IBM-Swift/todolist-tests)
 - [TodoList Web](https://github.com/IBM-Swift/todolist-web)
 
## Requirements:

 - Xcode 8

## Quick start for developing locally:

2. Clone the Boilerplate:

  `git clone https://github.com/IBM-Swift/Todolist-Boilerplate`

3. Run Swift Build
  
  ```
  cd Todolist-Boilerplate
  swift build
  ```
  
  An initial build on the command line is required since XCode does not support building the C libraries. This will compile the CHTTPParser module and place the static library and swift module for http parsing in .build/debug directory.
  
2. Autogenerate an XCode project:

  ```
  swift package generate-xcodeproj
  ```

4. (Optional) Clone the Unit Tests for TodoList in to your project directory

  Make sure you are in the root of your project where Package.swift and Sources/ directory are.
  
  `git clone https://github.com/IBM-Swift/todolist-tests Tests`

5. Add the necessary dependencies to your `Package.swift` file:

  For example, the CouchDB implementation could look like:
  
  ```swift
  let package = Package(
    name: "TodoList",
    dependencies: [
      .Package(url: "https://github.com/IBM-Swift/todolist-api.git", majorVersion: 0),
      .Package(url: "https://github.com/IBM-Swift/Kitura-CouchDB.git", majorVersion: 0, minor: 16)
    ]
   )
  ```

  You can find Swift libraries to popular databases at the [Swift Package Catalog](https://swiftpkgs.ng.bluemix.net/)

6. Open the project and edit Sources/TodoList.swift:

  Each of the functions that need to be implemented are shown here.

7. Edit the Sources/main.swift file:

  Edit the database configuration settings to get from Cloud Foundry the appropriate values for the host, port, username, and password (if relevant).

7. Run your Project

  Autogenerated XCode projects will choose the library named TodoList-Boilerplate instead of the executable named TodoList-Boilerplate as the default Target to run. Change it to the executable and press the run button or Cmd-R. When it is running you should see in the XCode console: `Server is listening on port 8090`.
  
  You can also run the Unit Tests in XCode.

8. Open up your browser, and view: 

   [http://www.todobackend.com/client/index.html?http://localhost:8090](http://www.todobackend.com/client/index.html?http://localhost:8090)
   
   This example will use the official todobackend frontend written in Backbone.js with your backend running locally.

## Contributing Checklist

1. Push to a new repository with that name

  For example, `todolist-memcached`, `todolist-mongodb`, etc.
  
2. git tag your release
  ```
  git tag 0.0.1
  git push --tags
  ```

## Deploying to BlueMix

1. Get an account for [Bluemix](https://new-console.ng.bluemix.net/?direct=classic)

2. Dowload and install the [Cloud Foundry tools](https://new-console.ng.bluemix.net/docs/starters/install_cli.html):

    ```
    cf login
    bluemix api https://api.ng.bluemix.net
    bluemix login -u username -o org_name -s space_name
    ```

    Be sure to change the directory to the Kitura-TodoList directory where the manifest.yml file is located.

3. Run `cf push`

    ***Note** The uploading droplet stage should take a long time, roughly 2-3 minutes. If it worked correctly, it should say:

    ```
    1 of 1 instances running 

    App started
    ```

## License

Copyright 2016 IBM

Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
